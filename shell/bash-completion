#!/usr/bin/env bash
# SPDX-License-Identifier: MIT
# Copyright (c) 2025 cvlc12

_gsai() {
    local cur prev opts
    opts=(--autosign --config --escalate-with -h --help --iso --offline --output-dir --skip-iso-verification -v --verbose)

    _get_comp_words_by_ref cur prev

    case $prev in
        -i | --iso)
            _filedir '@(iso)'
            ;;
        --config)
            _filedir '@(conf)'
            ;;
        --output-dir)
            _filedir -d
            ;;
        *)
            mapfile -t COMPREPLY < <(compgen -W "${opts[*]}" -- "$cur")
            ;;
    esac
}

complete -F _gsai gsai
